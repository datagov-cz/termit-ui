# TermIt UI Setup Guide

This guide provides information on how to build and deploy TermIt UI.

## Build

### System Requirements

* NodeJS 10.x or later
* npm 6.x or later

### Setup

To build TermIt for **non**-development deployment, use the `build-prod` npm script.

The following parameters can be configured for the build:

| Parameter | Type | Default | Description |
| :-------- | :--- | :------ | :---------- |
| `REACT_APP_SERVER_URL` | `string` | - | Specifies the URL where the TermIt backend is running |
| `REACT_APP_DEPLOYMENT_NAME` | `string` | `''` | Is used to disambiguate cookies and items in the local storage in case the client accesses multiple TermIt instances
| `REACT_APP_ADMIN_REGISTRATION_ONLY` | `boolean` | `false` | Configures whether the login page should contain a link to registration or not. If the parameter is true, only administrators can add new users and there is no registration link |
| `REACT_APP_SHOW_PUBLIC_VIEW_ON_UNAUTHORIZED` | `boolean` | `false` | Configures whether the application should show the public view dashboard if the user is not logged in. By default, the login screen is shown.| 
| `REACT_APP_KEYCLOAK_URL` | `string` | `http://localhost:8080/auth` | URL of the Keycloak authentication service. Loaded from `.env` on build by default |
| `REACT_APP_KEYCLOAK_REALM` | `string` | `kodi` | Keycloak Realm used by this application. Loaded from `.env` on build by default |
| `REACT_APP_KEYCLOAK_CLIENTID` | `string` | `termit-ui` | Keycloak client ID of this application. Loaded from `.env` on build by default |
| `REACT_APP_REPORT_BUG_LINK` | `string` | `https://github.com/opendata-mvcr/sgov-assembly-line/issues/new?labels=bug&template=po-adavek-na-opravu.md` | Link to issue tracker to report a bug |
| `REACT_APP_REQUEST_FEATURE_LINK` | `string` | `https://github.com/opendata-mvcr/sgov-assembly-line/issues/new?labels=enhancement&template=po-adavek-na-novou-funkcionalitu.md` | Link to issue tracker to request a feature |

### Example

1. `npm install`
2. `REACT_APP_SERVER_URL=https://kbss.felk.cvut.cz/termit-server-dev REACT_APP_DEPLOYMENT_NAME=dev REACT_APP_ADMIN_REGISTRATION_ONLY=true npm run build-prod`

## Deployment

Deployment is fairly simple, just take the content of the `build` folder generated by the build script
and copy it to a location accessible via HTTP(S), e.g., into an Apache HTTP server-managed location.

### Example

`cp -R build /var/www/termit/`



